// app/api/counter/route.ts
import { NextRequest } from "next/server";
import { kv } from "@vercel/kv";

export const runtime = "edge";

// Your one and only "username"
const COUNTER_NAME = "Jervi-sir";

/**
 * Digit sprites as data URLs, so GitHub's Camo proxy & CSP
 * can't block them inside SVG.
 *
 * For each digit:
 *   - base64 encode your GIF/PNG file
 *   - prepend "data:image/gif;base64," or "data:image/png;base64,"
 *
 * Example (PowerShell):
 *   [Convert]::ToBase64String([IO.File]::ReadAllBytes("public/theme/3d-num/0.gif"))
 * Then paste the string in place of "PASTE_0_HERE"
 */
const DIGIT_SPRITES: Record<string, string> = {
  "0": "data:image/gif;base64,R0lGODlhLgBAAPQfAP/iW/SxT//bKP/eQv/jZ/ehVemDIpNYNFJTVfWSH0dGSPJ9P15fYXFqUsRVL4WGiaKUYO9aKf/lc5qanFVQTPOAJGhpa//cNkxMTv/gT//ngM/R0m1ucVhZW0FAQgAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDIgNzkuYTZhNjM5NjhhLCAyMDI0LzAzLzA2LTExOjUyOjA1ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjUuOSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODYyMTQ5NDY4RkM4MTFFRkFDMUNENTVCNzM0NDI1RjIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODYyMTQ5NDc4RkM4MTFFRkFDMUNENTVCNzM0NDI1RjIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4NjIxNDk0NDhGQzgxMUVGQUMxQ0Q1NUI3MzQ0MjVGMiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4NjIxNDk0NThGQzgxMUVGQUMxQ0Q1NUI3MzQ0MjVGMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUAAB8ALAAAAAAuAEAAAAX/4CeOZGmeaKqubOu+cNrNdG3feC7nfJ97KJ9w6AGahkhe0UhKOm1L5shCrVqv2Gw2KhVxqAyteGzlmr4ezFOIjp4Z6bWvvXzHMdy8Xj+jF+1qeHuDfB1+XR9tHYIUBo6PkJGQDkV9HGYlingUCZ2en6CfFZQelpgkmh4NGqytrq+uC6SmbplwgaoaALu8vb67GrKVhpe1qLeLuRkDF83Oz84ZAMGzxKdTyHirywLQ3t3TwqXWxth3ys3S6uvcA+HVh4DJ2+mwrRng1MPxtuf0Fxk0BCgAoSCEALryiaNVpx+ufwEXRIgCIaE7feP4HfNnMeLEJRXxXVxIruHGhx2D/30sElIhvGImzaFsp5JiSpIaZc67udJDy5Evr3nJhg5gTZA3g5YbypGmRJsi3+2D+cfhTqc9f0rNSBVRKohHWSadKjQRUbBPkUbFyLDqyav10opdi7OrPG08oboku9Rs07hZx3It+zWv2r2D+xbGqhco35hMZwJuvLWt17M8D2g+oJVtSbc68dINJdjy3aIBB6oeWPrz5b9GJcieLZuuUsh+JQNkxw6xaauim3UbTpx4Zdenty1jxrx58+M5I+8kQL269evUgx14DFo6XnvgWy1Y8vutIELoub/GlT59+dAI4sufT79+/ei55fTwMwGQgv8ABijggAQqQMcEG9jR3kyCS7SBYIKZfCHhhBRWaKGFHjwIISoTPuDhhyCGKOKID3Cg4YYobKDiiiy26OKLL64A44w0wihjjTjWeGOOPLoYw49ABinkkEQWSWQIADs=",
  "1": "data:image/gif;base64,R0lGODlhIgBAAPQfAEJCRHFqUvJ9P+5aKUdGSIWGiVJTVVRUVuiDIvSQH//iW//jZ3Z2eP/fSf/eQuB3JUxCQGlqbWNRPmxtcH5+gF5fYf/cNv/gT//ngGhpa8/R0m1ucUxMTlhZW0FAQgAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDIgNzkuYTZhNjM5NjhhLCAyMDI0LzAzLzA2LTExOjUyOjA1ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjUuOSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDg2OThGRjI4RkM4MTFFRjk1NERDQ0ZDMzI2NjQ5NDkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDg2OThGRjM4RkM4MTFFRjk1NERDQ0ZDMzI2NjQ5NDkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowODY5OEZGMDhGQzgxMUVGOTU0RENDRkMzMjY2NDk0OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowODY5OEZGMThGQzgxMUVGOTU0RENDRkMzMjY2NDk0OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUAAB8ALAAAAAAiAEAAAAX/4CeOZGmeaKqubOuSXSzPdB2rdp4Dqe7PAA/qRwwKTcSf8VjKOJ/QqDTD8ViZpE2kwp16J5vq9bSpeDhJmVNsJZvR6c76ih2Vzx02fR+bj013aHp7V31hdG54YhIIjY4PVoZ6iYIejAmYmQORcod/TW95HgEYpaYCmx6SiIChVaQKsQoYqJx+ba2KoxgXDr60qaufWa67vRYXwLaeuKC6sBbIyqqdk7mV0NK11Ld1IoGi2cnbws3Ez7zR48HVrM7Y6drs3ZTh8evL1u/2x/jczN4+gHt1b1q5gAONqTPYbpidYuIY0rvGbyG5huYeousnEWA9ghwvTtwH0uI8jxRLrsrL5+4cvJAn9bmsuPKfTI0vTbJ0+A1iQZEoSSqsefDjUH9FUx7teLPnRp02W+KkiRQjQp8wd2Z0+rKBV6ZSudpbQHYBWJ4CfZoqJQCC1qu6CPGxalQunaQkDejdy5fvyJlxbjGgRKCw4cOICVTwxEBDIruQF1dp7BiQlsuYM2sOQ7lyE8wFQoseTTo0BQ2oPadIzbq1a9YsXst+HXu2bdS1b89+wbu379/Ag7sIAQA7",
  "2": "data:image/gif;base64,R0lGODlhLgBAAPQfAPWrSPN9Pv/iW5FZNP/eQv/bKP/jZ/WSHqCUYemDIkdGSM94RWxQOvOWLepfKf/ldFJTVV9WRl5fYXJqUoiJjMNVL2hpa//cNv/gT0xMTv/ngM/R0m1ucVhZW0FAQgAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDIgNzkuYTZhNjM5NjhhLCAyMDI0LzAzLzA2LTExOjUyOjA1ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjUuOSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MUFBNjVENzM4RkM4MTFFRkEzRTVGMTI0NDdGMUIxQTMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MUFBNjVENzQ4RkM4MTFFRkEzRTVGMTI0NDdGMUIxQTMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxQUE2NUQ3MThGQzgxMUVGQTNFNUYxMjQ0N0YxQjFBMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxQUE2NUQ3MjhGQzgxMUVGQTNFNUYxMjQ0N0YxQjFBMyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUAAB8ALAAAAAAuAEAAAAX/4CeOZGmeaKqubOu+cNrNdG3feC7nfJ97KJ9w6AGahkhe0UhKOm1L5shCrVqv2Gw2KhVxqBKteGzlmr6ezFOIjp4l6bWvvXzHM9y8Xj+jF+1qeHuDfB1+XR9tHYIMCY6PkJGQFUV9HGYlingRB52en6CfCZQelpgkmh4TGqytrq+uAaSmbplwgaoaAru8vb67GrKVhpe1qLeLuRgEF83Oz84YAsGzxKdTyHiry9Dd0dTDh4DJ29Lm5+cFBNPCpdbG2He5sPQY6uzV4rbyEQj+/wD9AdB1D5w7fcfkEVqCgOA6g7Tq7MO1sEhDew/bRfwzMVlFDxcLanwnMSHFiiEz/+YrVjIeRQahQjnEF44lR5PJODXYybNng4EYaR60iSjVKnqwgkIkedMlOV3oonJTWfOal2zKmHnrJnRjUazbtnLtyvSrvLAXzv3qtRShU20zkcJaoKAqvKtn4wIIMKGv378TBA21mghs3AAOPtptiRcXWgzBEiv2Og6uUsSKB98tnPeygwGgQ4sGzWBx08ZPL8cMJZlyR8vNIAOYTbs27ZFuUcNO+6C379+/cROtnDWt1Khth7/OWqC58+fOqWpmzNkxVK3Ys68jm7v6UwPgw4sfDz7YANNmrcuVSxc98cyDXOMUDD+P/LcQ8uvfz79//+6KyMGDHxQAUteBCCao4FSCddFBwQZ21PdRGw9CmMkXGGao4YYccuhBhRaikiEFJJZo4okopkgBByCGiMIGMMYo44w01ljjCjbmqKONOO7o4449/igkjTEUaeSRSCap5JJKhgAAOw==",
  "3": "data:image/gif;base64,R0lGODlhLgBAAPQfAKOVYeizVP/bKP/eQpBaNP/cNv/jZ3FqUvirROmDIvWSHkdGSGxQOvOWLVJTVV9WRv/iW15fYfF9P8RVL4WGif/ldJqanGhpa//gT0xMTv/ngM/R0m1ucVhZW0FAQgAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDIgNzkuYTZhNjM5NjhhLCAyMDI0LzAzLzA2LTExOjUyOjA1ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjUuOSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjU2MUYyMUI4RkM4MTFFRjhGNkJEQTc0MjI4OThBNjkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjU2MUYyMUM4RkM4MTFFRjhGNkJEQTc0MjI4OThBNjkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyNTYxRjIxOThGQzgxMUVGOEY2QkRBNzQyMjg5OEE2OSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyNTYxRjIxQThGQzgxMUVGOEY2QkRBNzQyMjg5OEE2OSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUAAB8ALAAAAAAuAEAAAAX/4CeOZGmeaKqubOu+cNrNdG3feC7nfJ97KJ9w6AGahkhe0UhKOm1L5uhCrVqv2Gw2KhVxqBGteGzlmr6ezFOIjp4j6bWvvXzHM9y8Xj+jF+1qeHuDfB1+XR9tHYIMCY6PkJGQE0V9HGYlingPCp2en6CfCZQelpgkmh4HGqytrq+uEqSmbplwgaoaELu8vb67GrKVhpe1qLeLuRgDBc3Oz84YEMGzxKdTyHiry9Dd0dTDh4DJ29Lm5+cCA9PCpdbG2He5sPQY6uzV4rbyDwD+/wD9BdB1D5w7fcfkEVoCgOA6g7Tq7MO1sEhDew/bRfwzMVlFDxcLanwnMSHFiiEz/+YrVjIeRQahQjnEF44lR5PJODXYybNnAwQzIZK86ZIcvXoiV17zkk0ZuqfcVNZcmqhpOW/eaB60iSjVVazQtG7salXXr7NJp8JjKm/V0VcYxQ4lKy/Dgbt4895NKRdhUUEog470y/bkQr5CCVdVGDhuYq7jADMgQLmyZcSDIXcURCAmKMFK1y7GdSAAgtOoUyMY6DgzVa+tKsieTbtC69AtCxuFCjXt1tdluQkYTrz4cKm/RcOOyqy5c2bSHgNva9aA9evYswcjoDb3aKNv30pYMjbyx4rlN59fmB6ng/fw48ufT1+xIjk8/FgAtKC///8ABijgAnRYsIEd663XhkmBB2byxYMQRijhhBN6wGCDqEBIwYYcdujhhyBSwMGFGKKwwYkopqjiiiyyuEKLMMbY4osy1igjjTbmuGIMPPbo449ABilkkCEAADs=",
  "4": "data:image/gif;base64,R0lGODlhLgBAAPQfAHFqUrO1t//eQv/bKf/cNvikPkdGSFJSVeiCIv/jaPJ9P/SGIu9aKf/iW15fYcNUL6GVYYWGifSSHvWWLE9QUpqanGNQPf/gT2hpa0xMTv/ngM/R0m1ucVhZW0FAQgAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDIgNzkuYTZhNjM5NjhhLCAyMDI0LzAzLzA2LTExOjUyOjA1ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjUuOSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzA0OUZFQjE4RkM4MTFFRkEwMTZENjg5MUIwNEM2NzciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzA0OUZFQjI4RkM4MTFFRkEwMTZENjg5MUIwNEM2NzciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozMDQ5RkVBRjhGQzgxMUVGQTAxNkQ2ODkxQjA0QzY3NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozMDQ5RkVCMDhGQzgxMUVGQTAxNkQ2ODkxQjA0QzY3NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUAAB8ALAAAAAAuAEAAAAX/4CeOZGmeaKqubOu+cNrNdG3feC7nfJ97KJ9w6AGahkhe0UhKOm1L5ghDrVqv2Gw2KhVxqA6teGzlmr6ezFOIjp4d6bWvvXzHM9y8Xj+jF+1qeHuDfB1+XR9tHYIWCI6PCFyNkAgPRX0cZiWKeBYSn6ALDFEAoaCWHpiaJJweABqwsQqjSxCxsqiqbptwga4aDcENGrNRtsIJxLmGmbusvYu/FwLUxLRFx9TDCsuHgNGv0wQX1sbAAwLb3c11vHfSBOPltefpypfMq1PQeOHx5MXoXUCnDp83d778yQuIrV7BVPmc7XunEOA1D8cI3oN48BlFh/MaDrTHzSC7PwjB/4FkiHHlOn1e+MFbeDEjyZcSY34UB3CBKZcmYSaSWVFDgQlIkRYAyvEkolZFb90a+VBXO48JHU7bypXqRqsosaocGa+sWbNVI16dmFXc2bcaSzYVChUYsrvCvMoF+5So1L+x9OJcq9NXBgCIEytGbDNtR7bRCAmMOzgs5AMZMmverLml4KA5h8Yh4pkyaMKiDXBerSZa469qLeuUjM9A6ZunZQ8Nw7s3bzwHXDPle+aL8ePHD7x7vTc2ohIbokvfEICD8uC2mVd+TmK69OrXhX+eGxq6d+rWl5+74NjpivPow2cHlqA+7Mcn4INXL1XBEuIxJCIfbQDGkB52BDoXoF2Ao2Hn4IMFwnCgE35UsGB6qmWo4YYZ0lHBBhcqRxsXbXwIYoDIpajicR6YeKKBx0Ug44w01hgBBy6+uKAI8PUI347d+ShkdECOMOSQRfJ4pI9JNunkk1BGKWUJIQAAOw==",
  "5": "data:image/gif;base64,R0lGODlhLgBAAPQfAParSP/iW//bKP/eQvN9Po5ZNHFqUv/jZ8J2RsxqK+mDImNKPEdGSO9aKVJTVWxWQ/SEIqeWYF5fYfWTIYiJjMRUL2hpa//cNv/gT0xMTv/ngM/R0m1ucVhZW0FAQgAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDIgNzkuYTZhNjM5NjhhLCAyMDI0LzAzLzA2LTExOjUyOjA1ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjUuOSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDBEMzk5NzQ4RkM4MTFFRjk4NUZBODNDMDhCNTQxQzciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDBEMzk5NzU4RkM4MTFFRjk4NUZBODNDMDhCNTQxQzciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0MEQzOTk3MjhGQzgxMUVGOTg1RkE4M0MwOEI1NDFDNyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0MEQzOTk3MzhGQzgxMUVGOTg1RkE4M0MwOEI1NDFDNyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUAAB8ALAAAAAAuAEAAAAX/4CeOZGmeaKqubOu+cNrNdG3feC7nfJ97KJ9w6AGahkhe0UhKOm1L5shCrVqv2Gw2KhVxqBKteGzlmr6ezFOIjp4l6bWvvXzHM9y8Xj+jF+1qeHuDfB1+XR9tHYILCo6PkJGQCUV9HGYlingPE52en6CgFZWGl26ZcIEeBhqtrq+wrwSjHpaYJJqrGgG8vb6/vBqzpIeAi7oYAxfLzM3MGAHCtLanuKnHrMkCztwX0NLEpnWod8jL0Ojp6uC1pbdT13jZ57H1wgvh717x5t4aAAAiCBxIMMKDJdTGWSs3zx+BBoS4JPxDTlVDDMIgRkTorho8hrvoPdzIsVhFbCEd/2okORFRrovCIIQKRamdyYUWU2IEMBPUMJviKOJEqQ2jPVg/WxqTp1Od029JOyr8mFNbN2dQp0kVSpWosqtY2Sk9yRSYWQzbokW92ZXp0VdoB6jVynZfuQwG8urdmzfCrrRit7rkR9Jv3Ln5PNpVVfiv3MB1ExHeaBjw2qCDyxUpwLmz5wKVH1/WJ1lzgZ6fHCMGSvolwNewYauGjHmprreuDtNuzS/bU6eW6dYm22+b8ePHV48dWjbZ1+fQsyaeuhjlgevYs2u/LqzAdK7V3eKOhaDkcOYkNy5vmz7i+vAO4sufT79+/ciK5PDwQwEQg/8ABijggAQyQAcFG9jRXkt7bSCYYCZfRCjhhBRWWKEHDj6Ii4QUdOjhhyCGKCIFHGSoIQobpKjiiiy26KKLK7wo44wvxkjjjTTaiOOOLcbg449ABinkkEQOGQIAOw==",
  "6": "data:image/gif;base64,R0lGODlhLgBAAPQfAPN9PqeWYP/iW/iqSv/eQv/bKP/jZ8J2RpqanOmDIpNYNPWTIuxdKVJTVUdGSGxWQ/SEImNKPF5fYXFqUoWGicRVL2hpa0xMTv/gT//cNv/ngM/R0m1ucVhZW0FAQgAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDIgNzkuYTZhNjM5NjhhLCAyMDI0LzAzLzA2LTExOjUyOjA1ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjUuOSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NENCRjQ4MjE4RkM4MTFFRjgxQ0JDQUQxNkI4NzZDOEEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NENCRjQ4MjI4RkM4MTFFRjgxQ0JDQUQxNkI4NzZDOEEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0Q0JGNDgxRjhGQzgxMUVGODFDQkNBRDE2Qjg3NkM4QSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0Q0JGNDgyMDhGQzgxMUVGODFDQkNBRDE2Qjg3NkM4QSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUAAB8ALAAAAAAuAEAAAAX/4CeOZGmeaKqubOu+cNrNdG3feC7nfJ97KJ9w6AGahkhe0UhKOm1L5shCrVqv2Gw2KhVxqBKteGzlmr6ey1OIjp4l6bWvvXzHL9y8Xj+jF+1qeHuDfB1+XR9tHYIRCY6PkJGQFUV9HGYlingPC52en6CglB6WmCSaHhMaq6ytrq0Ao6VumXCBqRoCuru8vboasZWGl7Sntou4GAQZzM3OzRgCwLLDplPHeKrKBc/dGdHTwoeAyNrM0ejp6uGk1cXXd8nnr/TAEeLEdbXx5t8aAwMCCBxIMMCDJbP0GeOXax4ABoS4JPyz71Y/DMAgRkToTiE8iw39PdzIcVzFciEx/44k2c7kQpDbVEIIFUrjRESoLv6jCSpYy3wUX6KMWe+Vz5vksqVUxxTc0Y5BPw715s0pNZdSlW6j+kzaU6xesMn75osXN69XgeIUq7MehrPskJ7UOm8AgAl4JwTIBfer2qRjVWossvctAbT4rIVlSHQlYb6H40Jdy9jhYA+F+6ZVnIhtyowKQivIHNkv55yfAYSCjPjnac9EAcoGyFoy2M6V/bnVnPjdYpjnmqLj7do3buDckitXXnqzcdTRlkmfTr21XKFKDWjfzr27dmAKenv8jbJo0QMl/85lGfF6VvaE3JNvQL++/fv4899WJIeHHwSAOCDggAQWaOCBDtCBwE8GdsDHUhsLMpjJFxRWaOGFGGLoQYQSnlIhBSCGKOKIJJZIAQccdojCBiy26OKLMMYY4woy1mijjDTeqOONOe7oI4wxBCnkkEQWaeSRRoYAADs=",
  "7": "data:image/gif;base64,R0lGODlhLgBAAPQfAOmDIviqW//eQv/bKVJSVf/jZ//gT9G+cWNWQ6lQM0VERv/iW0xMTv/cNvJ9P0dGSMhWL6CUYV5fYYWGifWSHnFqUkhHSU9QUpqanGhpa//ngM/R0m1ucVhZW0FAQgAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDIgNzkuYTZhNjM5NjhhLCAyMDI0LzAzLzA2LTExOjUyOjA1ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjUuOSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUUzOTEwRkI4RkM4MTFFRkIwQUFGQTI5MjJFQkMxMEUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUUzOTEwRkM4RkM4MTFFRkIwQUFGQTI5MjJFQkMxMEUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1RTM5MTBGOThGQzgxMUVGQjBBQUZBMjkyMkVCQzEwRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1RTM5MTBGQThGQzgxMUVGQjBBQUZBMjkyMkVCQzEwRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUAAB8ALAAAAAAuAEAAAAX/4CeOZGmeaKqubOu+cNrNdG3feC7nfJ97KJ9w6AGahkhe0UhKOm1L5ihDrVqv2Gw2KhVxqBKteGzlmr4exlOIjp4l6bWvvXzHGdy8Xj+jF+1qeHuDfB1+XR9tHYIIAI6PkJGQEEV9HGYlingIFJ2en6CfAJQelpgkmh4VGqytrq+uDqSmbplwgaoaC7u8vb67GrKVhpe1qLeLuQYCDc3Oz84GC8GzxKdTyHirywPQ3t3TwqXWxth3ys3S6uvcAuHVh4DJ2+mwrQbg1MPxtuf0DQY0BAgQoWCEA7ryiaNVpx+ufwHFFYmQ0J2+cfyO+asYkdREjhcZ/nE4D6REDxTx/1lcSK6hxoe61F38qPLdvmIuzcEswLNAsARRUiqEh3Pky2QIDihd6pHm0JvXvGQjFNQk0aiJplJ1uvJqOalxiKC0CvVr1rBCHoytGbKlUZ1bCSQT2rVsTrAW8urdu3cuWYxFEX0ZTLgwgXN0bQLGWniC48eOORyWqzZx24woNmjerFky4r8iEZXgzNkz5bVPF5sdTbrzZL9sWWI+0dr159he77owDTt16BheXlcG7VY0C97Dcdt9+wI56rqqdbdwntKd4t/Aqevq+XO58RXaXzlYgj2Gc6rlYZwnlL75a8rw48stDjzReyR+MNT3rECt//8AqkUHBhvsd9hWXLRBYDiB2RXm4IODebAgg+YRBtmFGE7AwYQU1idCbSDW5iEJIZa42YgjmGgiih+qGCKLMMYo44w01lhCCAA7",
  "8": "data:image/gif;base64,R0lGODlhLgBAAPQfAP/ka/J9P//iW//bKKSWYPSwTf/eQvedUumDIpNYNPWSHlJTVUdGSPSEIl5fYXFqUsRVL4WGie9bKfWXLpqanFVQTGhpa0xMTv/cNv/gT8/R0v/ngG1ucVhZW0FAQgAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDIgNzkuYTZhNjM5NjhhLCAyMDI0LzAzLzA2LTExOjUyOjA1ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjUuOSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NkI0RTQ3Mzg4RkM4MTFFRjgyN0Q4RkE5RTMwRDREOUIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NkI0RTQ3Mzk4RkM4MTFFRjgyN0Q4RkE5RTMwRDREOUIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2QjRFNDczNjhGQzgxMUVGODI3RDhGQTlFMzBENEQ5QiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2QjRFNDczNzhGQzgxMUVGODI3RDhGQTlFMzBENEQ5QiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUAAB8ALAAAAAAuAEAAAAX/4CeOZGmeaKqubOu+cNrNdG3feC7nfJ97KJ9w6AGahkhe0UhKOm1L5shCrVqv2Gw2KhVxqA6teGzlmr6ey1OIjp4d6bWvvXzHL9y8Xj+jF+1qeHuDfB1+XR9tHYIVCI6PkJGQEEV9HGYlingVCp2en6CglB6WmCSaHg8bq6ytrq0Bo6VumXCBqRsCuru8vbobsZWGl7Sntou4GQYYzM3OzRkCwLLDplPHeKrKA8/d3NLBpNXF13fJzNHp6tsG4NSHgMja6K+sGd/TwvC15vMYGRsKHCBAkECBXPjCzarD75Y/gAEkRCGAsF0+cfuM9asIUeISivcsKhzHUKNDjsA8/xYBmfAdsZLlTrJLORHlyIwx5dlsAMqmS2tesJ37t2GC0aMHQ7rT9/JPQ50z6/lkCjSR0Ifr1rWkSi7oRnbeni3F2BQRKn9hxV5c6NQkVHS+eG0lW/UsSqlK15JsmzMbygMBHgh+wFLkz65Wv9KLWDPvzbLx/DpW6aHwWLZmr9qkbFkvTq8yF0tIQDpB58d1NTsONZUuYrt5C8ienXQu5shDowHYzXu348MwQb/9l1Wd7b2ZFXNbzpy5Ya7BE8tUtqy6deuXkeNW1bu7993AEkDnK9yv1PPAltx+KoiQ+/HJb71/v97tgvv48+vfz/+zdDk9+EEBIAwUaOCBCCaoIFQDdFCggR3zRbhEGw4+mMkXGGao4YYccuhBhRaekmEEJJZo4okophgBByCGiIIGMMYo44w01ljjCjbmqKONOO7o4449/igkjTEUaeSRSCap5JJKhgAAOw==",
  "9": "data:image/gif;base64,R0lGODlhLgBAAPQfAPStSv/iW//bKKSWYP/eQkZFR5BaNFJTVXFqUv/jZ/ehVemDImxSPPJ9P/SEIl5fYfWSHslVLoiJjP/ldPWXLk9QUmhpa//cNkxMTv/gT//ngM/R0m1ucVhZW0FAQgAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDIgNzkuYTZhNjM5NjhhLCAyMDI0LzAzLzA2LTExOjUyOjA1ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjUuOSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0E4MDA5RjA4RkM4MTFFRjg1NjVCMDZFMjE5MTk5MDkiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0E4MDA5RjE4RkM4MTFFRjg1NjVCMDZFMjE5MTk5MDkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3QTgwMDlFRThGQzgxMUVGODU2NUIwNkUyMTkxOTkwOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3QTgwMDlFRjhGQzgxMUVGODU2NUIwNkUyMTkxOTkwOSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUAAB8ALAAAAAAuAEAAAAX/4CeOZGmeaKqubOu+cNrNdG3feC7nfJ97KJ9w6AGahkhe0UhKOm1L5shCrVqv2Gw2KhVxqA+teGzlmr4ezFOIjp4f6bWvvXzHMdy8Xj+jF+1qeHuDfB1+XR9tHYIMC46PkJGQEUV9HGYlingMEJ2en6CglB6WmCSaHggaq6ytrq0No6VumXCBqRoBuru8vboasZWGl7Sntou4GQQXzM3OzRkBwLLDplPHeKrKAs/d3NLBpNXF13fJzNHp6tsE4NSHgMja6K+sGd/TwvC15vMXGRoAKBhAcACAXPjCzarD75Y/gOGKDEDYLp+4fcb6UYQ4SuJGiwv/NJT3MaKHifcq/yocxzCjw5IdT8LUR6xluZfsgDkANfNiTZEuSeakQLTowZTuaFrzgu3cv3qrkIJkCfSmUHTr1iV89xMRKn/euiX1uTRRU7BhnY0N6fVsLl9wtyolx1QjVFdSV2K0igcDgr+AA/9FKZcsXbPmCC0hrJJrWVSKPeZ1fBhyZMZrqbZN7IGBgc+gQ2OeurfuLQ8GQoXqyTZeNoGwY8dmrdk1rgm4c+vOPXmuTdNCswov3HpkNorckitXnrk0YpzKlkmfPr15V9uqEmjfzr27dmAGfFcFfvzu3QZLigcVFFmxer7tI78nf6C+/fv48+d3rkgODz8SAFLAgAQWaOCBCBZAh1MEGwiY4IMQKkgMgw1m8sWFGGao4YYbekBhhadgKMGIJJZo4okoSsDBhyCisMGLMMYo44w00rhCjTjmWOONOvaoI48+BjljDEQWaeSRSCapZJIhAAA7",
};

export async function GET(req: NextRequest) {
  const searchParams = req.nextUrl.searchParams;
  const theme = searchParams.get("theme") ?? "simple";

  // always increment the same key
  const count = await kv.incr(`counter:${COUNTER_NAME}`);

  const svg = buildSvg({
    name: COUNTER_NAME,
    count,
    theme,
  });

  return new Response(svg, {
    status: 200,
    headers: {
      "Content-Type": "image/svg+xml; charset=utf-8",
      "Cache-Control": "no-store, no-cache, must-revalidate, max-age=0",
    },
  });
}

/* ------------------ SVG dispatcher ------------------ */

function buildSvg(args: {
  name: string;
  count: number;
  theme: string;
}) {
  const { name, count, theme } = args;

  if (theme === "3d-num") {
    return buildDigitImageSvg({
      name,
      count,
    });
  }

  // default simple badge
  return buildSimpleBadgeSvg({ name, count, theme });
}

/* ------------------ Simple badge SVG ------------------ */

function buildSimpleBadgeSvg({
  name,
  count,
  theme,
}: {
  name: string;
  count: number;
  theme: string;
}) {
  const label = name; // "Jervi-sir"
  const value = count.toString();

  const width = 180;
  const height = 32;

  const bgColor = theme === "dark" ? "#111827" : "#111827";
  const textColor = "#F9FAFB";
  const accentColor = "#10B981";

  return `
<svg width="${width}" height="${height}" viewBox="0 0 ${width} ${height}"
     fill="none" xmlns="http://www.w3.org/2000/svg"
     role="img" aria-label="${label} ${value}">
     
  <title>${label} counter</title>

  <!-- background -->
  <rect width="${width}" height="${height}" rx="6" fill="${bgColor}" />

  <!-- left highlighted area (value zone) -->
  <rect x="0" y="0" width="100" height="${height}" rx="6" fill="${accentColor}" />

  <!-- right zone (label zone) -->
  <rect x="100" y="0" width="${width - 100}" height="${height}" rx="6" fill="rgba(15,23,42,0.9)" />

  <!-- VALUE on the LEFT -->
  <text x="90" y="20"
    fill="${textColor}"
    font-family="ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace"
    font-size="14"
    text-anchor="end">
    ${escapeXml(value)}
  </text>

  <!-- LABEL on the RIGHT -->
  <text x="${width - 10}" y="20"
    fill="${textColor}"
    font-family="system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif"
    font-size="12"
    text-anchor="end">
    ${escapeXml("nth visitor")}
  </text>

</svg>
  `.trim();
}

/* ------------------ Image digits SVG ------------------ */

function buildDigitImageSvg({
  name,
  count,
}: {
  name: string;
  count: number;
}) {
  const label = name;
  const value = count.toString(); // e.g. "12345"
  const digits = value.split(""); // ["1","2","3","4","5"]

  // adjust these to match your GIF/PNG size
  const digitWidth = 32;
  const digitHeight = 32;
  const gap = 4;

  const width = digits.length * digitWidth + (digits.length - 1) * gap;
  const height = digitHeight;

  const images = digits
    .map((d, index) => {
      if (!/^[0-9]$/.test(d)) return "";

      const src = DIGIT_SPRITES[d];
      if (!src) return "";

      const x = index * (digitWidth + gap);
      return `<image href="${src}" x="${x}" y="0" width="${digitWidth}" height="${digitHeight}" />`;
    })
    .join("\n");

  return `
<svg width="${width}" height="${height}" viewBox="0 0 ${width} ${height}"
     xmlns="http://www.w3.org/2000/svg" role="img" aria-label="${label} ${value}">
  <title>${label} counter</title>
  ${images}
</svg>
  `.trim();
}

/* ------------------ Utils ------------------ */

function escapeXml(str: string) {
  return str
    .replace(/&/g, "&amp;")
    .replace(/"/g, "&quot;")
    .replace(/'/g, "&apos;")
    .replace(/</g, "&lt;")
    .replace(/>/g, "&gt;");
}
